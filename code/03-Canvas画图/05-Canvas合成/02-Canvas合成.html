<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title></title>
  <style type="text/css">
    *{
      margin: 0;
      padding: 0;
    }
    html,body{
      background: pink;
    }
    body{

    }
    #test{
      background: gray;
      position: absolute;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      margin: auto;
    }
  </style>
</head>
<body>
<canvas id="test" width="300" height="300">
  <span>您的浏览器不支持画布元素 请您换成萌萌的谷歌</span>
</canvas>
</body>
<script type="text/javascript">
  window.onload=function(){
    var canvas = document.querySelector("#test");
    if(!canvas.getContext)return;
      var ctx = canvas.getContext("2d");


      ctx.fillStyle="red";
      ctx.fillRect(50,50,100,100);

      ctx.globalCompositeOperation="source-over";
      ctx.fillStyle="green";
      ctx.fillRect(100,100,100,100);

      /*
      *
      * globalCompositeOperation=type 用来合成
      * 红色是原有的
      * 绿色是新的
      * type的值如下:
      * source-over  默认的----新的  覆盖  老的
      * source-in     ------显示新的重叠的,其他透明
      * source-out    ------显示新的没有重叠的,其他透明
      * source-atop   ------显示新重叠的和老的,其他透明
      * destination-over----新的在老的下面
      * destination-in  ----显示老的重叠,其他透明
      * destination-out  ---显示老的没重叠的,其他透明
      * destination-atop ---显示老重叠和新的,其他透明
      * lighter --------都显示,重叠的颜色处理了
      *
      * darken  ------都显示,重叠部分最黑的像素
      * (这个会把颜色位进行比较,得到最小的)
      * red: #ff0000
      * green: #00ff00
      * 结果就是:#000000
      *
      * lighten-----都显示,重叠部分最亮的像素(同上)
      * red: #ff0000
      * green: #00ff00
      * 结果就是:#ffffff
      *
      * xor   --------------重叠的部分透明
      * copy ---------只有新图像会被保留，其余的全部被清除(边透明)
      *
      * */
  }


</script>
</html>
