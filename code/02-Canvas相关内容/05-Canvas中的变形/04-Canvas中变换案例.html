<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>$永远24K纯帅的$</title>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }

        html, body {
            background-color: #C7EDCC;
        }

        canvas {
            border: 1px solid red;
            background-color: pink;
            position: absolute;
            left: 0;
            top: 0;
            right: 0;
            bottom: 0;
            margin: auto;
        }
    </style>
</head>
<body>
<canvas id="test" width="600" height="600"></canvas>
<script type="text/javascript">
    //页面加载
    window.onload = function () {
        //获取画布和绘制对象
        var canvas = document.querySelector("#test");
        if (!canvas.getContext) return;
        var ctx = canvas.getContext("2d");
        var flag = 0;//旋转的度
        var scale = 0;//缩放的数值
        var flagScale = 0;//控制缩放的最小和最大值
        setInterval(function () {
            flag += 5;
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            //缩放和旋转
            ctx.save();
            //设置原点
            ctx.translate(300, 300);
            //旋转
            ctx.rotate(flag * Math.PI / 180);
            if (scale === 0) {
                flagScale = 1;
            } else if (scale === 100) {
                flagScale = -1;
            }
            //控制缩放的缩放因子(根据flagScale控制scale的值)
            scale += flagScale;
            //缩放
            ctx.scale(scale / 50, scale / 50);
            ctx.beginPath();
            ctx.fillRect(-100, -100, 200, 200);
            ctx.restore();
        }, 100);
    };


</script>


</body>
</html>